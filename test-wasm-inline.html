<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inline WAT Test</title>
</head>
<body>
  <h1>Inline WAT Script Test</h1>
  <div id="result">Testing...</div>

  <!-- This should compile WAT to WASM byte array -->
  <script type="text/wast">
(module
  (func $multiply (param $a i32) (param $b i32) (result i32)
    local.get $a
    local.get $b
    i32.mul)
  (export "multiply" (func $multiply)))
  </script>

  <script>
    console.log("Waiting for WASM...");
    setTimeout(function() {
      if (typeof window.multiply === 'function') {
        const result = window.multiply(6, 7);
        document.getElementById('result').innerHTML =
          'SUCCESS: 6 × 7 = ' + result;
        console.log('✅ Result:', result);
      } else {
        document.getElementById('result').innerHTML =
          'FAIL: multiply not found';
        console.log('❌ multiply function not exported');
      }
    }, 2000);
  </script>
</body>
</html>
